<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>ChatBot - Teste de Turing</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="chat-container">
    <div class="chat-header">
        ðŸ¤– Teste de Turing
    </div>

    <div id="chat" class="chat-box"></div>

    <div class="input-area">
        <input id="msg" type="text" placeholder="Digite sua mensagem..." />
        <button onclick="enviar()">Enviar</button>
    </div>
</div>

<script>
async function iniciar() {
    await fetch("http://localhost:8080/start");
}
iniciar();

async function enviar() {
    const input = document.getElementById("msg");
    const texto = input.value.trim();
    if (!texto) return;

    adicionar("VocÃª", texto);
    input.value = "";

    const res = await fetch("http://localhost:8080/chat", {
        method: "POST",
        headers: { "Content-Type": "text/plain" },
        body: texto
    });

    const resposta = await res.text();
    adicionar("Pessoa", resposta);
}

function adicionar(autor, texto) {
    const chat = document.getElementById("chat");
    chat.innerHTML += `<div class="msg ${autor}"><b>${autor}:</b> ${texto}</div>`;
    chat.scrollTop = chat.scrollHeight;
}
</script>

</body>
</html>
